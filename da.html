<!--
Copyright (c) 2021 Michael Neill Hartman. All rights reserved.
mnh_license@proton.me
https://github.com/hartmanm
-->
<!DOCTYPE html>
<html lang="en">
<head>
<title>da</title>
<meta charset="utf-8">
<meta name="Description" content="">
<meta name="theme-color" content="#ffffff"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
.header{padding-top:30px; padding-bottom:30px; text-align:center; color:white; background-color:#0d0422;}
.base_div{padding-top:30px; padding-bottom:30px; text-align:center; color:white; background-color:#7ba6c1;}
lamda_link:hover,lamda_link:active,lamda_link:focus{padding-top: 15px; padding-bottom: 17px; cursor:pointer;}
.json_interface{ 
max-width: 10vw;
max-height: 10vh;
margin:7vw,1vw,1vw;
border:2vw; 
border-color:rgba(33, 7, 51, 0.822);
background-color:#373441;
color: white;
}
.grid_container{
margin: 7vw,2vw,2vw;
}
body{margin: 2vw; background:rgba(69, 75, 106, 0.66);}
intro{
text-align: left; color: #000000;
background-color:white;
}
</style>
</head>
<body>
<div class="header"><h1>https://hartmanm.github.io/data_aggregator/da.html</h1></div>
<div id="json_interface" class="json_interface">
<p>Choose a JSON File:</p>
<input id="json" type="file">
</div>
<br>
<intro id=trigger_reload></intro>
<div id="grid_container" class="grid_container"></div>
<script>
'use strict';
var grid_container = document.getElementsByClassName("grid_container");
function lamda_link(innerhtml,id,url,base_element)
{
var ddiv = document.createElement("lamda_link");
ddiv.innerHTML = innerhtml;
ddiv.id = id;
var first=base_element[0];
first.appendChild(ddiv);
function execute_z(element,url){window.open(url);}
var lamdalink = document.getElementById(id);
lamdalink.addEventListener("click", function(e){var target = e.target || e.srcElement; execute_z(target,url)}, false);
}
function reload(){location.reload();}
function trigger_reload(){
var main=document.getElementById("trigger_reload");
main.innerHTML = "clear_json";
main.id;
main.addEventListener("click", function(e){var target = e.target || e.srcElement; reload()}, false);
}
trigger_reload();
var base = document.getElementById("base");
var idbase=1;
var fileInput_json = document.getElementById("json"),
readFile3 = function () {
var reader = new FileReader();
reader.onload = function () {
var jsonobj = JSON.parse(reader.result);
for(var key in jsonobj){
lamda_link('<div class="grid-container">'+key+'</div>',idbase,key,grid_container);
idbase=idbase+1;
}
};
reader.readAsBinaryString(fileInput_json.files[0]);
};
fileInput_json.addEventListener('change', readFile3);
</script>
</body>
</html>
